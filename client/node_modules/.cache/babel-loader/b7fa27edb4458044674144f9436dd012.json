{"ast":null,"code":"var _jsxFileName = \"/Volumes/Works/projects/react/tutorials/react_graphql/client/src/components/AddBook.js\";\nimport React, { useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { getAuthorsQuery } from '../queries/queries';\n\nfunction AddBook() {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(getAuthorsQuery);\n  const [values, setValues] = useState({\n    name: '',\n    genre: '',\n    author: ''\n  });\n\n  const handleChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n    console.log('222', values);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('333', values);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    id: \"add-book\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Book name:\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: values.name,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Genre:\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"genre\",\n    value: values.genre,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Author:\"), React.createElement(\"select\", {\n    name: \"author\",\n    value: values.author,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Select Author\"), loading && React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Loading authors ...\"), error && React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Error in loading authors...\"), data && data.authors.map(author => React.createElement(\"option\", {\n    key: author.id,\n    value: author.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, author.name)))), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"+\"))));\n}\n\nexport default AddBook;","map":{"version":3,"sources":["/Volumes/Works/projects/react/tutorials/react_graphql/client/src/components/AddBook.js"],"names":["React","useState","useQuery","getAuthorsQuery","AddBook","loading","error","data","values","setValues","name","genre","author","handleChange","e","target","value","console","log","handleSubmit","preventDefault","authors","map","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { getAuthorsQuery } from '../queries/queries';\n\nfunction AddBook() {\n  const { loading, error, data } = useQuery(getAuthorsQuery);\n\n  const [values, setValues] = useState({\n    name: '',\n    genre: '',\n    author: ''\n  });\n\n  const handleChange = e => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value\n    });\n    console.log('222', values);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('333', values);\n  };\n\n  return (\n    <div>\n      <form id='add-book' onSubmit={handleSubmit}>\n        <div className='field'>\n          <label>Book name:</label>\n          <input\n            type='text'\n            name='name'\n            value={values.name}\n            onChange={handleChange}\n          />\n        </div>\n        <div className='field'>\n          <label>Genre:</label>\n          <input\n            type='text'\n            name='genre'\n            value={values.genre}\n            onChange={handleChange}\n          />\n        </div>\n        <div className='field'>\n          <label>Author:</label>\n          <select name='author' value={values.author} onChange={handleChange}>\n            <option>Select Author</option>\n            {loading && <option>Loading authors ...</option>}\n            {error && <option>Error in loading authors...</option>}\n            {data &&\n              data.authors.map(author => (\n                <option key={author.id} value={author.id}>\n                  {author.name}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div className='field'>\n          <button type='submit'>+</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddBook;\n"]},"metadata":{},"sourceType":"module"}